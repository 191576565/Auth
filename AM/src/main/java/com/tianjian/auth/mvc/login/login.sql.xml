<?xml version="1.0" encoding="UTF-8"?>

<!-- 用户sql -->
<sql-statement namespace="tianjian.login">

	<sql id="ucheck">
		<![CDATA[ 
        	select user_pwd from SYS_USER_INFO where user_id=?
    	]]>
	</sql>
	<sql id="tcheck">
	<![CDATA[ 
			<% if(db_type == "mysql" || db_type == "postgresql"){ %>
        	
        		select * from pt_operator order by ids asc limit ? offset ? 
        	
        	<% } else if(db_type == "oracle"){ %>
        	
        		select * from ( select a.*, rownum rn from (select * from pt_operator) a where rownum <= ? ) where rn >= ?
        		
        	<% } else if(db_type == "sqlserver"){ %>
        		
        		select top {0, number, #.#} * from pt_operator where ids not in ( select top {1, number, #.#} ids from pt_operator )
        		
        	<% } else if(db_type == "db2"){ %>
        		
        		select * from ( select b.*, rownumber() over() as rn from ( select * from pt_operator ) as b ) as a where a.rn < ? and a.rn >= ?
        		
        	<% } %>
	]]>
	</sql>
	<sql id="postsid">
		<![CDATA[ 
	select user_sid from SYS_USER_INFO where user_id = ?
	]]>
	</sql>
	<sql id="posturl">
		<![CDATA[ 
	select 
REGEXP_SUBSTR(RES_URL,'[[:alpha:]]+://([1-9]|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])(\.(\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])){3}:[0-9]{2,5}',1,1,'i') iport 
 from sys_resource_info  t where uuid = ?
	
	]]>
	</sql>
</sql-statement>